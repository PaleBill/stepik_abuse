[
    {
        "id_lesson": 336280,
        "steps": [
            {
                "id_step": 1293065,
                "text": {
                    "text": " Задание\nавтор - Москвин Павел\nВывести авторов и названия книг и их цену в двух столбцах - рубли и копейки.  Информацию отсортировать по убыванию копеек. \nСтруктура таблицы:\n\nРезультат:\n+------------------+-----------------------+-------+---------+\n| author           | title                 | Рубли | Копейки |\n+------------------+-----------------------+-------+---------+\n| Булгаков М.А.    | Мастер и Маргарита    | 670   | 99      |\n| Есенин С.А.      | Черный человек        | 670   | 99      |\n| Булгаков М.А.    | Белая гвардия         | 540   | 50      |\n| Достоевский Ф.М. | Игрок                 | 480   | 50      |\n| Достоевский Ф.М. | Братья Карамазовы     | 799   | 1       |\n| Достоевский Ф.М. | Идиот                 | 460   | 0       |\n| Есенин С.А.      | Стихотворения и поэмы | 650   | 0       |\n+------------------+-----------------------+-------+---------+\nТекст задания (чтобы не прокручивать страницу) :  \n\nВывести авторов и названия книг и их цену в двух столбцах - рубли и копейки.  Информацию отсортировать по убыванию копеек. \n",
                    "tables": []
                }
            },
            {
                "id_step": 1293070,
                "text": {
                    "text": " Задание\nавтор - Надежда Новикова\nВ связи с повышенным спросом на классическую литературу школьниками в формате \"А есть то же самое, но покороче, чтобы читать поменьше?\" была выпущена серия \"Графоман и. Краткое содержание\".\nВ выборке:\n- к имени автора добавить \"Графоман и \";\n- к названию книги дописать \". Краткое содержание.\";\n- цену на новый опус установить 40% от цены оригинала, но не более 250. (Если 40% больше 250, то цена должна быть 250);\n- в зависимости от остатка на складе вывести \"Спрос\": до 3 (включительно) - высокий, до 10 (включительно) - средний, иначе низкий;\n- добавить колонку \"Наличие\" в зависимости от количества: 1-2 шт - очень мало, 3-14 - в наличии, 15 и больше - много;\n- отсортировать по цене по возрастанию, затем по Спросу от высокого к низкому, а затем по названию книги в алфавитном порядке.\nСтруктура таблицы:\n\nРезультат:\n+-----------------------------+--------------------------------------------+---------+---------+------------+\n| Автор                       | Название                                   | Цена    | Спрос   | Наличие    |\n+-----------------------------+--------------------------------------------+---------+---------+------------+\n| Графоман и Достоевский Ф.М. | Идиот. Краткое содержание.                 | 184.000 | средний | в наличии  |\n| Графоман и Достоевский Ф.М. | Игрок. Краткое содержание.                 | 192.200 | средний | в наличии  |\n| Графоман и Булгаков М.А.    | Белая гвардия. Краткое содержание.         | 216.200 | средний | в наличии  |\n| Графоман и Достоевский Ф.М. | Братья Карамазовы. Краткое содержание.     | 250     | высокий | очень мало |\n| Графоман и Булгаков М.А.    | Мастер и Маргарита. Краткое содержание.    | 250     | высокий | в наличии  |\n| Графоман и Есенин С.А.      | Черный человек. Краткое содержание.        | 250     | средний | в наличии  |\n| Графоман и Есенин С.А.      | Стихотворения и поэмы. Краткое содержание. | 250     | низкий  | много      |\n+-----------------------------+--------------------------------------------+---------+---------+------------+\nТекст задания (чтобы не прокручивать страницу) :  \n\nВ связи с повышенным спросом на классическую литературу школьниками в формате \"А есть то же самое, но покороче, чтобы читать поменьше?\" была выпущена серия \"Графоман и. Краткое содержание\".\nВ выборке:\n- к имени автора добавить \"Графоман и \";\n- к названию книги дописать \". Краткое содержание.\";\n- цену на новый опус установить 40% от цены оригинала, но не более 250. (Если 40% больше 250, то цена должна быть 250);\n- в зависимости от остатка на складе вывести \"Спрос\": до 3 (включительно) - высокий, до 10 (включительно) - средний, иначе низкий;\n- добавить колонку \"Наличие\" в зависимости от количества: 1-2 шт - очень мало, 3-14 - в наличии, 15 и больше - много;\n- отсортировать по цене по возрастанию, затем по Спросу от высокого к низкому, а затем по названию книги в алфавитном порядке.\n",
                    "tables": []
                }
            },
            {
                "id_step": 1293122,
                "text": {
                    "text": "Задание\nавтор -Лариса Фернандес\nДля клиентов у которых сумма заказов выше средней по суммам заказов клиентов (общей стоимости всех заказов клиентов), вывести имя, общую сумму всех заказов, количество заказов, количество заказанных книг. Этим клиентам мы предложим специальную программу лояльности! Информацию отсортировать по имени клиентов ( в алфавитном порядке).\nФрагмент логической схемы базы данных:\n\nРезультат:\n+---------------+---------------------+---------------+------------+\n| name_client   | Общая_сумма_заказов | Заказов_всего | Книг_всего |\n+---------------+---------------------+---------------+------------+\n| Абрамова Катя | 2131.49             | 1             | 4          |\n| Баранов Павел | 2291.89             | 2             | 4          |\n+---------------+---------------------+---------------+------------+\n\nПояснение ( от Максима Казакова). Среднюю стоимость заказов считать как группировка  сумм по заказам (price * amount), а затем среднее из этих сумм.\nТекст задания (чтобы не прокручивать страницу) : \n\nДля клиентов у которых сумма заказов выше средней по суммам заказов клиентов (общей стоимости всех заказов клиентов), вывести имя, общую сумму всех заказов, количество заказов, количество заказанных книг. Этим клиентам мы предложим специальную программу лояльности! Информацию отсортировать по имени клиентов ( в алфавитном порядке).\n",
                    "tables": []
                }
            },
            {
                "id_step": 1293242,
                "text": {
                    "text": "Задание\nавтор - Adilbek Kaliyev\nСоставить рейтинг книг в зависимости от того, какая книга принесет больше всего выручки (в процентах), при условии продажи всех книг. Рейтинг отсортировать по убыванию выручки. Выручка в процентах вычисляется как стоимость всех экземпляров книги деленное на суммарную стоимость всех экземпляров книг на складе и умноженное на 100, полученный результат округлить до двух знаков после запятой.\nСудя по результату, магазин хорошо вложился в Стихи Есенина\n Структура таблицы:\n\nРезультат:\n+------------------+-----------------------+--------+--------+----------------+\n| author           | title                 | price  | amount | income_percent |\n+------------------+-----------------------+--------+--------+----------------+\n| Есенин С.А.      | Стихотворения и поэмы | 650.00 | 15     | 33.83          |\n| Достоевский Ф.М. | Игрок                 | 480.50 | 10     | 16.67          |\n| Достоевский Ф.М. | Идиот                 | 460.00 | 10     | 15.96          |\n| Есенин С.А.      | Черный человек        | 670.99 | 5      | 11.64          |\n| Булгаков М.А.    | Белая гвардия         | 540.50 | 5      | 9.38           |\n| Булгаков М.А.    | Мастер и Маргарита    | 670.99 | 3      | 6.98           |\n| Достоевский Ф.М. | Братья Карамазовы     | 799.01 | 2      | 5.54           |\n+------------------+-----------------------+--------+--------+----------------+\n\nТекст задания (чтобы не прокручивать страницу): \n\n\nСоставить рейтинг книг в зависимости от того, какая книга принесет больше всего выручки (в процентах), при условии продажи всех книг. Рейтинг отсортировать по убыванию выручки. Выручка в процентах вычисляется как стоимость всех экземпляров книги деленное на суммарную стоимость всех экземпляров книг на складе и умноженное на 100, полученный результат округлить до двух знаков после запятой.\nСудя по результату, магазин хорошо вложился в Стихи Есенина\n",
                    "tables": []
                }
            },
            {
                "id_step": 1293281,
                "text": {
                    "text": "Задание\nавтор -Лариса Фернандес\nДля каждого автора из таблицы author вывести количество книг, написанных им в каждом жанре.\nВывести: ФИО автора, жанр, количество.\nОтсортировать: по фамилии, затем - по убыванию количества написанных книг, а затем в алфавитном порядке по названию жанра.\nВажно! Реализовать задание одним запросом на выборку.\nФрагмент логической схемы базы данных:\n\nРезультат:\n+------------------+-------------+------------+\n| name_author      | name_genre  | Количество |\n+------------------+-------------+------------+\n| Булгаков М.А.    | Роман       | 2          |\n| Булгаков М.А.    | Поэзия      | 0          |\n| Булгаков М.А.    | Приключения | 0          |\n| Достоевский Ф.М. | Роман       | 3          |\n| Достоевский Ф.М. | Поэзия      | 0          |\n| Достоевский Ф.М. | Приключения | 0          |\n| Есенин С.А.      | Поэзия      | 2          |\n| Есенин С.А.      | Приключения | 0          |\n| Есенин С.А.      | Роман       | 0          |\n| Лермонтов М.Ю.   | Поэзия      | 0          |\n| Лермонтов М.Ю.   | Приключения | 0          |\n| Лермонтов М.Ю.   | Роман       | 0          |\n| Пастернак Б.Л.   | Поэзия      | 1          |\n| Пастернак Б.Л.   | Приключения | 0          |\n| Пастернак Б.Л.   | Роман       | 0          |\n+------------------+-------------+------------+\nТекст задания (чтобы не прокручивать страницу) :  \n\nДля каждого автора из таблицы author вывести количество книг, написанных им в каждом жанре.\nВывести: ФИО автора, жанр, количество.\nОтсортировать: по фамилии, затем - по убыванию количества написанных книг, а затем в алфавитном порядке по названию жанра.\nВажно! Реализовать задание одним запросом на выборку.\n",
                    "tables": []
                }
            },
            {
                "id_step": 1298305,
                "text": {
                    "text": "Задание\nавтор - Игорь Владимирович Лапшин\nАкция \"Купи книгу от 500 руб. и получи подарок\".\nВывести автора, название книги и цену. Выбрать книги с ценой 500 рублей и выше, отсортировать информацию в алфавитном порядке по автору и названию книги. Добавить столбец Подарок,  в котором вывести, какой подарок получает покупатель: если куплена книга от 500 рублей до 600 рублей (включительно), то подарок - ручка, от 600 до 700 (включительно) - детская раскраска, выше 700 - гороскоп.\n  Структура таблицы:\n\nРезультат:\n+------------------+-----------------------+--------+-------------------+\n| Автор            | Название_книги        | Цена   | Подарок           |\n+------------------+-----------------------+--------+-------------------+\n| Булгаков М.А.    | Белая гвардия         | 540.50 | ручка             |\n| Булгаков М.А.    | Мастер и Маргарита    | 670.99 | детская раскраска |\n| Достоевский Ф.М. | Братья Карамазовы     | 799.01 | гороскоп          |\n| Есенин С.А.      | Стихотворения и поэмы | 650.00 | детская раскраска |\n| Есенин С.А.      | Черный человек        | 670.99 | детская раскраска |\n+------------------+-----------------------+--------+-------------------+\nТекст задания (чтобы не прокручивать страницу) : \n\nАкция \"Купи книгу от 500 руб. и получи подарок\".\nВывести автора, название книги и цену. Выбрать книги с ценой 500 рублей и выше, отсортировать информацию в алфавитном порядке по автору и названию книги. Добавить столбец Подарок,  в котором вывести, какой подарок получает покупатель: если куплена книга от 500 рублей до 600 рублей (включительно), то подарок - ручка, от 600 до 700 (включительно) - детская раскраска, выше 700 - гороскоп.\n",
                    "tables": []
                }
            },
            {
                "id_step": 1298321,
                "text": {
                    "text": " Задание\nавтор - Игорь Владимирович Лапшин\nПри анализе остатков книг на складе было решено дополнительно заказать книги авторов, у которых суммарное число экземпляров книг меньше 10. В таблице должны быть отображены авторы, наименьшее и наибольшее количество их книг.\n  Структура таблицы:\n\nРезультат:\n+----------------+-------------------+-------------------+\n| Автор          | Наименьшее_кол_во | Наибольшее_кол_во |\n+----------------+-------------------+-------------------+\n| Булгаков М.А.  | 3                 | 5                 |\n| Пастернак Б.Л. | 6                 | 6                 |\n+----------------+-------------------+-------------------+\nТекст задания (чтобы не прокручивать страницу) :  \n\nПри анализе остатков книг на складе было решено дополнительно заказать книги авторов, у которых суммарное число экземпляров книг меньше 10. В таблице должны быть отображены авторы, наименьшее и наибольшее количество их книг.\n",
                    "tables": []
                }
            },
            {
                "id_step": 1298326,
                "text": {
                    "text": "Задание\nавтор - Лариса Фернандес\nВ последний заказ (таблица buy_book) клиента Баранов Павел добавить по одному экземпляру всех книг Достоевского, которые есть в таблице book.\nФрагмент логической схемы базы данных:\n\nРезультат:\nAffected rows: 3\n\nQuery result:\n+-------------+--------+---------+--------+\n| buy_book_id | buy_id | book_id | amount |\n+-------------+--------+---------+--------+\n| 1           | 1      | 1       | 1      |\n| 2           | 1      | 7       | 2      |\n| 3           | 2      | 8       | 2      |\n| 4           | 3      | 3       | 2      |\n| 5           | 3      | 2       | 1      |\n| 6           | 3      | 1       | 1      |\n| 7           | 4      | 5       | 1      |\n| 8           | 5      | 8       | 2      |\n| 9           | 5      | 2       | 1      |\n| 10          | 4      | 3       | 1      |\n| 11          | 4      | 4       | 1      |\n| 12          | 4      | 5       | 1      |\n+-------------+--------+---------+--------+\nТекст задания (чтобы не прокручивать страницу) : \n\n В последний заказ (таблица buy_book) клиента Баранов Павел добавить по одному экземпляру всех книг Достоевского, которые есть в таблице book.\n",
                    "tables": []
                }
            }
        ]
    }
]